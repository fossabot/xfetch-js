((a,b)=>{"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.xf=b()})(this,()=>{class a extends Error{constructor(a){super(a.statusText),this.name="HTTPError",this.response=a}}const b=["get","post","put","patch","delete","head"],c=["arrayBuffer","blob","formData","json","text"],d=a=>new URLSearchParams(a).toString(),e=(f,g={})=>{const h=(b,e={})=>{Object.assign(e,g);const h=new URL(b,e.baseURI||void 0);e.headers||(e.headers={}),e.json?(e.body=JSON.stringify(e.json),e.headers["Content-Type"]="application/json"):e.form&&(e.body=d(e.form),e.headers["Content-Type"]="application/x-www-form-urlencoded"),e.qs&&(h.search=d(e.qs)),e.credentials||(e.credentials="same-origin");const i=f(h,e).then(b=>{if(!b.ok)throw new a(b);return b});for(const a of c)i[a]=b=>i.then(b=>b[a]()).then(b||(a=>a));return i};for(const a of b)h[a]=(b,c={})=>(c.method=a,h(b,c));return h.create=e,h.extend=a=>e(f,a),h.HTTPError=a,h},f=e("undefined"==typeof fetch?null:fetch,{baseURI:"undefined"==typeof document?void 0:document.baseURI});return f});